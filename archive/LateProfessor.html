<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Punctuality is not exactly one of Dr. Wesley's strengths.  His student John always shows up for class at the scheduled starting time, but he never knows when Dr. Wesley will arrive.  This is a problem for John because he cannot stay in the same place doing nothing for a long period of time.  Therefore, he has come up with the following method to reduce the amount of time he spends waiting by the classroom door.
<br></br>
<ul><li>John arrives at time 0.</li>
<li>John waits for Dr. Wesley to arrive.</li>
<li>If after <b>waitTime</b> seconds Dr. Wesley has not arrived yet, John goes to take a walk for <b>walkTime</b> seconds.</li>
<li>John therefore arrives back to the classroom exactly at time <b>waitTime</b> + <b>walkTime</b>.</li>
<li>If Dr. Wesley has not arrived yet, John waits another <b>waitTime</b> seconds and then proceeds to take a new walk. The process is repeated until John becomes aware that Dr. Wesley has arrived.</li>
</ul>
Overall, John stands in front of the class door from time 0 to time <b>waitTime</b>, inclusive, then from time <b>walkTime</b> + <b>waitTime</b> to time <b>walkTime</b> + 2*<b>waitTime</b>, inclusive, and so on. At all other time moments he walks outside.
<br></br>
<br></br>
This has solved John's patience issues, but it has caused a new problem.  When John returns from a walk, if Dr. Wesley is already in the classroom, it will appear that John has arrived late to class.  Dr. Wesley does not like that, and he will deny John access to the class if he arrives <b>lateTime</b> or more seconds after the time at which Dr. Wesley arrived.<br></br>
<br></br>
There are multiple variables that affect Dr. Wesley's arrival time, but for the purpose of the problem, assume that the arrival time will be a real number chosen uniformly from <b>bestArrival</b> to <b>worstArrival</b>, inclusive. Return the probability that John will be denied access to Dr. Wesley's class.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>LateProfessor</td></tr><tr><td>Method:</td><td>getProbability</td></tr><tr><td>Parameters:</td><td>int, int, int, int, int</td></tr><tr><td>Returns:</td><td>double</td></tr><tr><td>Method signature:</td><td>double getProbability(int waitTime, int walkTime, int lateTime, int bestArrival, int worstArrival)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td>&#160;&#160;&#160;&#160;</td></tr><tr><td></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>The returned value must have an absolute or relative error less than 1e-9.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>waitTime</b>, <b>walkTime</b>, <b>lateTime</b> and <b>worstArrival</b> will each be between 1 and 10000000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>bestArrival</b> will be between 0 and <b>worstArrival</b>, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>20</pre></td></tr><tr><td><pre>30</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>50</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.4</pre></td></tr><tr><td><table><tr><td colspan="2">The professor will arrive at some random moment between 0 and 50 seconds, inclusive. During this interval, these are John's activities:<br></br>
<ul><li>He waits from time 0 to time 20, inclusive.</li>
<li>He takes a walk between times 20 and 50, non-inclusive.</li>
<li>He arrives back at time 50.</li>
</ul>
John will only be too late if the professor arrives while he is away, and more than 10 seconds before he returns.
This only happens if the professor arrives strictly between times 20 and 40. The probability that this will happen is (40-20)/(50-0) = 0.4.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>20</pre></td></tr><tr><td><pre>30</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>30</pre></td></tr><tr><td><pre>100</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.42857142857142855</pre></td></tr><tr><td><table><tr><td colspan="2">If the professor arrives between 30 and 40 seconds or between 70 and 90 seconds, John will be late to the class.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>20</pre></td></tr><tr><td><pre>40</pre></td></tr><tr><td><pre>50</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>300</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.0</pre></td></tr><tr><td><table><tr><td colspan="2">John's walking time is 40 seconds. Hence, even if the professor arrives while John is taking a walk, John will always be less than 50 seconds late.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>101</pre></td></tr><tr><td><pre>230</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>654</pre></td></tr><tr><td><pre>17890</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.6637270828498492</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>20</pre></td></tr><tr><td><pre>30</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>90</pre></td></tr><tr><td><pre>90</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1.0</pre></td></tr><tr><td><table><tr><td colspan="2">Dr. Wesley will always arrive at time 90 seconds. John will arrive at time 100 seconds after taking two different walks. Since the time difference is equal to 10 seconds, John will be too late.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1000</pre></td></tr><tr><td><pre>600</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>17000</pre></td></tr><tr><td><pre>17000</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0.0</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
